<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Page</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>


    <footer class="footer bg-dark text-light py-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6" style="text-align: left;">
                    <h2>Contact Us</h2>
                    <p>Email: harshitsharma182021@gmail.com</p>
                    <p>Phone: 923456324</p>
                </div>
                <div class="col-md-6 d-flex justify-content-center align-items-center">
                    <a href="https://www.instagram.com/lavanpvt?igsh=MWN4Nmk2bHNocGZ6Mw==" target="_blank" rel="noopener noreferrer" class="text-light me-3">
                        <span class="fa fa-instagram fa-2x"></span>
                    </a>
                    <a href="https://www.facebook.com/" target="_blank" rel="noopener noreferrer" class="text-light">
                        <span class="fa fa-facebook-square fa-2x"></span>
                    </a>
                </div>
            </div>
        </div>
    </footer>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-8">
                <div id="productContainer"></div>
            </div>
            <div class="col-md-4">
                <object type="text/html" data="Rating.html" style="width: 100%; height: 100%;"></object>
            </div>
        </div>
    </div>
    <div id="productContainer"></div>
    <script src="https://fakestoreapi.com/products/category/jewelery"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const location = 'Vellore';
            const area = '632014';
        
            function fetchCurrentLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(() => {
                        setLocation('Vellore');
                        setArea('632014');
                    }, (error) => {
                        console.error('Error getting geolocation:', error.message);
                    });
                } else {
                    console.error('Geolocation is not supported by this browser.');
                }
            }
        
            function Navbar() {
                const navbar = document.createElement('nav');
                navbar.className = 'navbar navbar-expand-lg';
                navbar.style.backgroundImage = "url('./assets/navbar_gradient.jpeg')";
                navbar.style.backgroundSize = "100% auto";
                navbar.style.color = '#fff';
                navbar.style.position = 'relative';
            
                const containerFluid = document.createElement('div');
                containerFluid.className = 'container-fluid';
                navbar.appendChild(containerFluid);
            
                const logoImg = document.createElement('img');
                logoImg.src = './assets/vmart.jpg';
                logoImg.height = '70';
                logoImg.width = '70';
                logoImg.style.borderRadius = '50%';
                logoImg.style.marginRight = '10px';
                containerFluid.appendChild(logoImg);
            
                const navbarBrand = document.createElement('a');
                navbarBrand.className = 'navbar-brand';
                navbarBrand.href = '/';
                navbarBrand.textContent = 'VJwellers';
                navbarBrand.style.color = '#fff';
                containerFluid.appendChild(navbarBrand);
            
                const navbarToggler = document.createElement('button');
                navbarToggler.className = 'navbar-toggler';
                navbarToggler.type = 'button';
                navbarToggler.setAttribute('data-bs-toggle', 'collapse');
                navbarToggler.setAttribute('data-bs-target', '#navbarSupportedContent');
                navbarToggler.setAttribute('aria-controls', 'navbarSupportedContent');
                navbarToggler.setAttribute('aria-expanded', 'false');
                navbarToggler.setAttribute('aria-label', 'Toggle navigation');
                const navbarTogglerIcon = document.createElement('span');
                navbarTogglerIcon.className = 'navbar-toggler-icon';
                navbarToggler.appendChild(navbarTogglerIcon);
                containerFluid.appendChild(navbarToggler);
            
                const navbarCollapse = document.createElement('div');
                navbarCollapse.className = 'collapse navbar-collapse justify-content-between';
                navbarCollapse.id = 'navbarSupportedContent';
                containerFluid.appendChild(navbarCollapse);
            
                const ulNav = document.createElement('ul');
                ulNav.className = 'navbar-nav me-auto mb-2 mb-lg-0';
                navbarCollapse.appendChild(ulNav);
            
                const liNav = document.createElement('li');
                liNav.className = 'nav-item';
                ulNav.appendChild(liNav);
            
                const locationInfo = document.createElement('div');
                locationInfo.className = 'location-info';
                liNav.appendChild(locationInfo);
            
                const locationText = document.createElement('p');
                locationText.className = 'nav-link active';
                locationText.textContent = `Deliver to `;
                locationInfo.appendChild(locationText);
            
                const locationSpan = document.createElement('b');
                locationSpan.style.color = 'yellow';
                locationSpan.textContent = `Vellore, 632014`;
                locationText.appendChild(locationSpan);
            
                const updateLocation = document.createElement('p');
                updateLocation.className = 'update-location';
                updateLocation.textContent = 'Update Location';
                updateLocation.onclick = fetchCurrentLocation;
                locationInfo.appendChild(updateLocation);
            
                const locationPinImg = document.createElement('img');
                locationPinImg.src = './assets/geo-alt-fill.svg';
                locationPinImg.alt = 'locationpin';
                updateLocation.insertBefore(locationPinImg, updateLocation.firstChild);
            
                const searchForm = document.createElement('form');
                searchForm.className = 'd-flex';
                searchForm.role = 'search';
                navbarCollapse.appendChild(searchForm);
            
                const searchInput = document.createElement('input');
                searchInput.className = 'form-control me-2';
                searchInput.type = 'search';
                searchInput.placeholder = 'Search';
                searchInput.setAttribute('aria-label', 'Search');
                searchInput.style.marginRight = '10px';
                searchForm.appendChild(searchInput);
            
                const searchButton = document.createElement('button');
                searchButton.className = 'btn btn-outline-light';
                searchButton.type = 'submit';
                searchButton.textContent = 'Search';
                searchForm.appendChild(searchButton);
            
                const loginLink = document.createElement('a');
                loginLink.href = 'login.html';
                navbarCollapse.appendChild(loginLink);
            
                const loginButton = document.createElement('button');
                loginButton.className = 'btn btn-success';
                loginButton.type = 'button';
                loginButton.textContent = 'Login/Signin';
                loginButton.onclick = function() {
                    window.open('login.html', '_blank');
                };
                loginLink.appendChild(loginButton);
            
                return navbar;
            }
            
            document.body.insertBefore(Navbar(), document.body.firstChild);
        });
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const productId = localStorage.getItem('objectToPass');
            if (productId) {
                renderProduct(productId);
            } else {
                console.error('No product ID found in local storage');
            }

            async function renderProduct(id) {
                try {
                    const response = await fetch(`https://fakestoreapi.com/products/${id}`);
                    const productData = await response.json();
                    
                    const container = document.getElementById('productContainer');
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.style.maxWidth = '400px';
                    card.style.margin = '2rem';
                    
                    const img = document.createElement('img');
                    img.src = productData.image;
                    img.className = 'card-img-top';
                    img.alt = 'Product';
                    img.style.width = '200px';
                    img.style.height = 'auto';
                    card.appendChild(img);

                    const cardBody = document.createElement('div');
                    cardBody.className = 'card-body';
                    card.appendChild(cardBody);

                    const title = document.createElement('h5');
                    title.className = 'card-title';
                    title.textContent = productData.title;
                    cardBody.appendChild(title);

                    const description = document.createElement('p');
                    description.className = 'card-text';
                    description.textContent = productData.description;
                    cardBody.appendChild(description);

                    const price = document.createElement('a');
                    price.className = 'btn btn-primary';
                    price.href = '#';
                    price.textContent = `$${productData.price}`;
                    cardBody.appendChild(price);

                    container.appendChild(card);
                } catch (error) {
                    console.error('Error fetching product details:', error);
                }
            }
        });
    </script>
</body>
</html>
